<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tab Sorter Pro</title>
  <link rel="stylesheet" href="popup.css">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="w-80 bg-gray-50">
  <div class="p-4">
    <!-- 头部 -->
    <div class="flex items-center justify-between mb-4">
      <h1 class="text-lg font-semibold text-gray-800">Tab Sorter Pro</h1>
      <button id="openTabList" class="text-blue-600 hover:text-blue-800 text-sm">
        查看全部
      </button>
    </div>
    
    <!-- 主要操作按钮 -->
    <div class="space-y-3">
      <button id="aggregateBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
        </svg>
        <span>聚合当前窗口标签</span>
      </button>
      
      <div class="text-xs text-gray-500 text-center">
        将当前窗口的标签页保存并关闭
      </div>
    </div>
    
    <!-- 最近的分组 -->
    <div class="mt-6">
      <h2 class="text-sm font-medium text-gray-700 mb-3">最近的分组</h2>
      <div id="recentGroups" class="space-y-2">
        <!-- 动态加载最近的分组 -->
      </div>
      
      <div id="noGroups" class="text-center text-gray-500 text-sm py-4 hidden">
        暂无保存的标签页分组
      </div>
    </div>
    
    <!-- 底部链接 -->
    <div class="mt-6 pt-4 border-t border-gray-200">
      <div class="flex justify-between text-xs text-gray-500">
        <button id="openOptions" class="hover:text-gray-700">设置</button>
        <span>v1.0.0</span>
      </div>
    </div>
  </div>
  
  <!-- 加载状态 -->
  <div id="loading" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white rounded-lg p-4 flex items-center space-x-3">
      <div class="animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"></div>
      <span class="text-sm text-gray-700">处理中...</span>
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>